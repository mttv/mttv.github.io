(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{521:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return h});var s=a(417),n=a(424),l=a(95),r=a(96),i=a(98),c=a(94),o=a(97),m=a(0),u=a.n(m),d=a(510),p=a.n(d),b=a(425),v=a.n(b),g=a(53),f=a.n(g),h=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,o=new Array(r),m=0;m<r;m++)o[m]=arguments[m];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={subject:{input:"",valid:!1},email:{input:"",valid:!1},message:{input:"",valid:!1}},a.inputHandler=function(e){a.setState(Object(s.a)({},e.target.id,Object(n.a)({},a.state[e.target.id],{input:e.target.value}))),setTimeout(function(){a.formHandler()},500)},a.formHandler=function(){var e=a.state,t=e.subject,s=e.email,l=e.message;t.input.length>=5?(a.setState({subject:Object(n.a)({},a.state.subject,{valid:!0})}),f()("#subj-err").removeAttr("style")):(a.setState({subject:Object(n.a)({},a.state.subject,{valid:!1})}),f()("#subj-err").css({display:"block"})),/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(s.input)?(a.setState({email:Object(n.a)({},a.state.email,{valid:!0})}),f()("#email-err").removeAttr("style")):(a.setState({email:Object(n.a)({},a.state.email,{valid:!1})}),f()("#email-err").css({display:"block"})),l.input.length>=20?(a.setState({message:Object(n.a)({},a.state.message,{valid:!0})}),f()("#msg-err").removeAttr("style")):(a.setState({message:Object(n.a)({},a.state.message,{valid:!1})}),f()("#msg-err").css({display:"block"}))},a.sendHandler=function(){var e=a.state,t=e.subject,s=e.email,n=e.message;if(a.formHandler(),t.valid&&s.valid&&n.valid){var l={subject:t.input,email:s.input,message:n.input},r=new FormData;r.append("content",JSON.stringify(l)),fetch("https://mttv-web-app.herokuapp.com/send-mail",{method:"POST",body:r}).then(function(e){return e.json()}).then(function(e){console.log(e),v()(p.a).fire({type:"success",title:"Thanks for your message!",text:"We will reply to your message as soon as we can.",showCancelButton:!1})}).catch(function(e){console.log(e),v()(p.a).fire({type:"error",title:"Oops!An error occurred while sending the message.",text:"Please try again later",showCancelButton:!1})})}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),f()("#main-nav").css({background:"rgba(134, 153, 223, 0.85)"})}},{key:"componentWillUnmount",value:function(){f()("#main-nav").removeAttr("style")}},{key:"render",value:function(){return u.a.createElement("div",{className:"container",style:{paddingTop:"50px"}},u.a.createElement("div",{className:"heading"},"Contacts",u.a.createElement("hr",null)),u.a.createElement("div",{className:"contact-form"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"subject"},"Subject of the message"),u.a.createElement("input",{type:"text",className:"form-control",id:"subject",value:this.state.subject.input,onChange:this.inputHandler}),u.a.createElement("div",{className:"invalid-feedback",id:"subj-err"},"Please specify the subject of the message.")),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"email"},"Contact email"),u.a.createElement("input",{type:"email",className:"form-control",id:"email",value:this.state.email.input,onChange:this.inputHandler}),u.a.createElement("div",{className:"invalid-feedback",id:"email-err"},"Email is not valid.")),u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"message"},"Your message"),u.a.createElement("textarea",{className:"form-control",id:"message",rows:"3",cols:"3",style:{resize:"none"},value:this.state.message.input,onChange:this.inputHandler}),u.a.createElement("div",{className:"invalid-feedback",id:"msg-err"},"Please enter your message.")),u.a.createElement("button",{className:"btn btn-primary btn-send",onClick:this.sendHandler},"Send")))}}]),t}(m.Component)}}]);
//# sourceMappingURL=6.a58fb886.chunk.js.map