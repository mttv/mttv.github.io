(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{523:function(e,a,t){"use strict";t.r(a);var r=t(514),s=t(424),n=t(95),l=t(96),c=t(98),i=t(94),m=t(97),o=t(0),d=t.n(o),u=t(53),h=t.n(u),v=t(513),p=t(425),E=t.n(p),g=t(451),f=t(178),y=function(e){return d.a.createElement("nav",{id:"sidebar"},d.a.createElement("div",{className:"sidebar-header"},d.a.createElement("input",{onChange:e.searchHandler,value:e.query,type:"text",id:"search-input",className:"form-control",placeholder:"search..."}),d.a.createElement("hr",null)),d.a.createElement("div",{className:"streams-list"},d.a.createElement("div",{className:"result-counter d-flex justify-content-center"},e.streams.list?d.a.createElement("span",{className:"badge total"},e.streams.total):d.a.createElement("span",{className:"badge total"},e.totalFollowing)),d.a.createElement(e.streamsListLayout,null)))},b=function(e){return d.a.createElement(g.b,{draggableId:e.res._id,index:e.index,id:e.res._id},function(a,t){return d.a.createElement("li",Object.assign({className:"list-group-item channel-card",id:e.res._id,ref:a.innerRef},a.draggableProps,a.dragHandleProps),d.a.createElement("div",{className:"overlay"},d.a.createElement("div",{className:"bg-img"},d.a.createElement("img",{src:e.res.channel.profile_banner,alt:""})),d.a.createElement("img",{className:"avatar",src:e.res.channel.logo,alt:""})),d.a.createElement("div",{className:"description"},d.a.createElement("h6",null,e.res.channel.display_name,d.a.createElement("br",null),d.a.createElement("small",null,e.res.game)),d.a.createElement("p",null,e.res.channel.status)))})},N=t(504),w=t.n(N),k=function(e){return d.a.createElement("div",{className:"player-container container-block embed-responsive embed-responsive-16by9 "+e.styleClass},d.a.createElement(w.a,{width:"100%",height:"100%",className:"react-player",url:e.url,playing:e.playing,muted:!0}))};t.d(a,"default",function(){return C});var S=null,C=function(e){function a(e){var t;return Object(n.a)(this,a),(t=Object(c.a)(this,Object(i.a)(a).call(this,e))).searchHandler=function(e){var a=e.target.value;t.setState({searchQuery:a}),clearTimeout(S),S=setTimeout(function(){t.getStreamsHandler(a,12)},1e3)},t.ActiveStreamsHandler=function(e){var a,r=e.streams,s=localStorage.getItem("darkMode");a=s?"?darkpopout":"";var n,l,c,i="https://www.twitch.tv/",m="https://www.twitch.tv/embed/";switch(r.length){case 1:n=function(){return d.a.createElement("div",{className:"container-fluid",style:{margin:"0 auto",width:"85%"}},d.a.createElement("div",{className:"row",style:{width:"100%"}},d.a.createElement("div",{className:"col-8"},d.a.createElement(k,{url:i+r[0].stream.channel.name,playing:t.state.playing,volume:t.state.volume,muted:t.state.muted})),d.a.createElement("div",{className:"col-4",style:{marginBottom:"20px"}},d.a.createElement("div",{className:"container-block",style:{height:"100%"}},d.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:m+r[0].stream.channel.name+"/chat"+a,title:r[0].stream.channel.name,scrolling:"yes",frameborder:"0"})))))};break;case 2:n=function(){return d.a.createElement("div",{className:"container-fluid",style:{margin:"0 auto",width:"75%"}},d.a.createElement("div",{className:"row",style:{width:"100%"}},d.a.createElement("div",{className:"col-8"},d.a.createElement(k,{url:i+r[0].stream.channel.name,playing:t.state.playing,volume:t.state.volume,muted:t.state.muted})),d.a.createElement("div",{className:"col-4",style:{marginBottom:"20px"}},d.a.createElement("div",{className:"container-block",style:{height:"100%"}},d.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:m+r[0].stream.channel.name+"/chat"+a,title:r[0].stream.channel.name})))),d.a.createElement("div",{className:"row",style:{width:"100%"}},d.a.createElement("div",{className:"col-8"},d.a.createElement(k,{url:i+r[1].stream.channel.name,playing:t.state.playing,volume:t.state.volume,muted:t.state.muted})),d.a.createElement("div",{className:"col-4",style:{marginBottom:"20px"}},d.a.createElement("div",{className:"container-block",style:{height:"100%"}},d.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:m+r[1].stream.channel.name+"/chat"+a,title:r[1].stream.channel.name,scrolling:"yes",frameborder:"0"})))))};break;case 3:l=r.slice(0,1),c=(c=r.slice(1,3)).map(function(e,a){return d.a.createElement(k,{key:a,styleClass:"col",url:i+e.stream.channel.name,playing:t.state.playing})}),n=function(){return d.a.createElement("div",{className:"containe-fluid",style:{margin:"0 auto",width:"80%"}},d.a.createElement("div",{className:"row",style:{width:"100%"}},d.a.createElement("div",{className:"col-8"},d.a.createElement(k,{url:i+l[0].stream.channel.name,playing:t.state.playing,volume:t.state.volume,muted:t.state.muted})),d.a.createElement("div",{className:"col-4",style:{marginBottom:"20px"}},d.a.createElement("div",{className:"container-block",style:{height:"100%"}},d.a.createElement("iframe",{style:{width:"100%",height:"100%"},src:m+r[0].stream.channel.name+"/chat"+a,title:r[0].stream.channel.name,scrolling:"yes",frameborder:"0"})))),d.a.createElement("div",{className:"row"},c))};break;case 4:var o=r.slice(0,2),u=r.slice(2,4);o=o.map(function(e,a){return d.a.createElement(k,{key:a,styleClass:"col",url:i+e.stream.channel.name,playing:t.state.playing})}),u=u.map(function(e,a){return d.a.createElement(k,{key:a,styleClass:"col",url:i+e.stream.channel.name,playing:t.state.playing})}),n=function(){return d.a.createElement("div",{className:"container-fluid",style:{margin:"0 auto",width:"86%"}},d.a.createElement("div",{className:"row",style:{width:"100%"}},o),d.a.createElement("div",{className:"row",style:{width:"100%"}},u))};break;default:n=function(){return d.a.createElement("div",null)}}return d.a.createElement("div",{id:"streams-container"},d.a.createElement(n,null))},t.getStreamsHandler=function(e,a){a<=100?(t.state.streams.showLimit!==a&&t.setState({streams:Object(s.a)({},t.state.streams,{showLimit:a})}),t.props.api.search.streams({limit:a,query:e},function(e,a){e?t.setState({streams:Object(s.a)({},t.state.streams,{error:e})}):0===a.streams.length||void 0===a.streams.length?t.setState({streams:Object(s.a)({},t.state.streams,{list:"empty"})}):(t.setState({streams:Object(s.a)({},t.state.streams,{total:a._total})}),t.setState({streams:Object(s.a)({},t.state.streams,{list:a.streams})}),t.setState({streams:Object(s.a)({},t.state.streams,{error:!1})}))})):E()(v.a).fire({type:"warning",title:"Looks like you've reached the bottom!",text:"You have reached the limit of available streams",showCancelButton:!1})},t.streamsListLayout=function(){var e=t.state.streams,a=e.list,r=e.error;return null===a?d.a.createElement("div",{className:"row",id:"streams-list"}):r?d.a.createElement("div",{className:"alert alert-primary alert-error",role:"alert"},d.a.createElement("i",{className:"fas fa-exclamation alert-icon"}),d.a.createElement("p",null,r)):"empty"===a?d.a.createElement("div",{className:"alert alert-primary alert-error",role:"alert"},d.a.createElement("i",{className:"fas fa-exclamation alert-icon"}),d.a.createElement("p",null,"Looks like there is no streams")):null!==a?d.a.createElement(g.c,{droppableId:"search-container"},function(e,t){return d.a.createElement("ul",Object.assign({className:"list-group",ref:e.innerRef},e.droppableProps),a.map(function(e,a){return d.a.createElement(b,{key:a,res:e,index:a})}),e.placeholder)}):d.a.createElement("div",{className:"row",id:"streams-list"})},t.onDragStart=function(){t.state.activeStreams.length>=0&&4!==t.state.activeStreams.length&&(h()(".drop-container").removeClass("hidden"),h()("#streams-container").fadeOut(),h()("#streams-container").addClass("hidden"))},t.onDragEnd=function(e){var a=e.destination,s=e.source,n=t.state.activeStreams;if(a&&"search-container"!==a.droppableId){if("drop-container"===a.droppableId)if(4===n.length)0!==n.length&&(h()(".drop-container").addClass("hidden"),h()("#streams-container").fadeIn(),h()("#streams-container").removeClass("hidden"));else{var l=t.state.streams.list[s.index].channel._id,c=t.state.streams.list[s.index]._id;t.props.api.streams.channel({channelID:l},function(e,a){e||(t.setState(function(e){return{activeStreams:[].concat(Object(r.a)(e.activeStreams),[a])}}),h()("#"+c).fadeOut(),h()(".drop-container").addClass("hidden"),h()("#streams-container").fadeIn(),h()("#streams-container").removeClass("hidden"))})}}else 0!==n.length&&(h()(".drop-container").addClass("hidden"),h()("#streams-container").fadeIn(),h()("#streams-container").removeClass("hidden"))},t.state={searchQuery:"",playing:!0,volume:0,muted:!0,activeStreams:[],streams:{list:null,error:!1,total:0,showLimit:12}},t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){h()("#main-nav").fadeOut(),h()("#footer").fadeOut(),h()("#open-search-bar").on("click",function(){h()("#sidebar").toggleClass("active"),h()(".stream-search-btn").toggleClass("active"),h()(".stream-search-btn .search-icon").toggleClass("hide"),h()(".stream-search-btn .close-icon").toggleClass("active")}),0===this.state.activeStreams.length&&(h()(".drop-container").removeClass("hidden"),h()("#streams-container").fadeOut())}},{key:"componentWillUnmount",value:function(){h()("#main-nav").fadeIn(),h()("#footer").fadeIn()}},{key:"render",value:function(){return d.a.createElement(g.a,{onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},d.a.createElement("div",{className:"multistream-container"},d.a.createElement("div",{className:"mobile-alert"},d.a.createElement("h4",null,"Demo is not available on mobile devices. Please switch to desktop browser")),d.a.createElement(f.a,{to:"/",className:"exit-demo-btn btn"},"Exit"),d.a.createElement(y,{streamsListLayout:this.streamsListLayout,streams:this.state.streams,query:this.state.searchQuery,searchHandler:this.searchHandler,searchQuery:this.state.searchQuery}),d.a.createElement("div",{id:"open-search-bar",className:"btn stream-search-btn"},d.a.createElement("i",{className:"fas fa-search search-icon"}),d.a.createElement("i",{className:"fas fa-chevron-right close-icon"})),d.a.createElement(this.ActiveStreamsHandler,{streams:this.state.activeStreams}),d.a.createElement("div",{className:"drop-container hidden"},d.a.createElement("div",{className:"jumbotron"},d.a.createElement(g.c,{droppableId:"drop-container"},function(e,a){return d.a.createElement("div",Object.assign({id:"drop-container",style:{width:"100%",height:"100%"},ref:e.innerRef},e.droppableProps),d.a.createElement("i",{className:"fas fa-arrow-circle-down drop-icon"}),d.a.createElement("h4",null,"Select stream and drag it over here."),e.placeholder)})))))}}]),a}(o.Component)}}]);
//# sourceMappingURL=3.0a9b2e7f.chunk.js.map